function prepareForComparison(r,t){return r?t?r.toLocaleUpperCase():r:""}function comparer(r,t,o){return r===t?0:prepareForComparison(r,o).localeCompare(prepareForComparison(t,o))}function _stringFormat(r,t,o){for(var e="",n=0;;){var a=t.indexOf("{",n),i=t.indexOf("}",n);if(a<0&&i<0){e+=t.slice(n);break}if(i>0&&(i<a||a<0)){if("}"!==t.charAt(i+1))throw new Error("The format string contains an unmatched opening or closing brace.");e+=t.slice(n,i+1),n=i+2}else if(e+=t.slice(n,a),n=a+1,"{"!==t.charAt(n)){if(i<0)throw new Error("The format string contains an unmatched opening or closing brace.");var c=t.substring(n,i),s=c.indexOf(":"),u=parseInt(s<0?c:c.substring(0,s),10);if(isNaN(u))throw new Error("The format string is invalid.");var l=s<0?"":c.substring(s+1),m=o[u];void 0!==m&&null!==m||(m=""),m.toFormattedString?e+=m.toFormattedString(l):m instanceof Date?e+=dateToString(m,r):m.format?e+=m.format(l):e+=m.toString(),n=i+1}else e+="{",n++}return e}function oct(r){for(var t="",o=0;o<r;o++)t+=Math.floor(16*Math.random()).toString(16);return t}export function localeComparer(r,t){return comparer(r,t,!1)};export function localeIgnoreCaseComparer(r,t){return comparer(r,t,!0)};export function equals(r,t,o){return o?0===localeIgnoreCaseComparer(r,t):0===localeComparer(r,t)};export function startsWith(r,t,o){return 0===(o?localeIgnoreCaseComparer:localeComparer)(t,r.substr(0,t.length))};export function endsWith(r,t,o){return 0===(o?localeIgnoreCaseComparer:localeComparer)(t,r.substr(r.length-t.length,t.length))};export function caseInsensitiveContains(r,t){return-1!==r.toLocaleLowerCase().indexOf(t.toLocaleLowerCase())};export function format(r){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];return _stringFormat(!1,r,t)};export function localeFormat(r){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];return _stringFormat(!0,r,t)};var localeFormatter;export function dateToString(r,t){return t?(localeFormatter=localeFormatter||new Intl.DateTimeFormat(void 0,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})).format(r):r.toString()};export var EmptyGuidString="00000000-0000-0000-0000-000000000000";export function isGuid(r){return/^\{?([\dA-F]{8})-?([\dA-F]{4})-?([\dA-F]{4})-?([\dA-F]{4})-?([\dA-F]{12})\}?$/i.test(r)};export function newGuid(){var r=(128+Math.floor(64*Math.random())).toString(16);return oct(8)+"-"+oct(4)+"-4"+oct(3)+"-"+r+oct(2)+"-"+oct(12)};