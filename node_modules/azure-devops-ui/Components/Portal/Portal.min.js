import*as tslib_1 from"tslib";import"../../CommonImports";import"../../Core/core.css";import"./Portal.css";import*as React from"react";import*as ReactDOM from"react-dom";import{ObservableValue}from"../../Core/Observable";import{Observer}from"../../Observer";var Portal=function(t){function e(e){var o=t.call(this,e)||this;o.mounted=new ObservableValue(!1);var r=o.props.portalElement;if(!r&&o.props.portalSelector&&(r=document.querySelector(o.props.portalSelector)),r||(r=document.querySelector(".bolt-portal-host"))||((r=document.createElement("div")).className="bolt-portal-host absolute-fill no-events scroll-hidden",document.body.appendChild(r)),o.parentElement=r,o.hostElement=document.createElement("div"),o.hostElement.classList.add("bolt-portal"),o.hostElement.classList.add("absolute-fill"),e.className)for(var l=0,n=e.className.split(" ");l<n.length;l++){var s=n[l];o.hostElement.classList.add(s)}return o}return tslib_1.__extends(e,t),e.prototype.render=function(){var t=this;return ReactDOM.createPortal(React.createElement(Observer,{mounted:this.mounted},function(e){return e.mounted?t.props.children:null}),this.hostElement)},e.prototype.componentDidMount=function(){this.parentElement.appendChild(this.hostElement),this.mounted.value=!0},e.prototype.componentWillUnmount=function(){this.parentElement.removeChild(this.hostElement)},e}(React.Component);export{Portal};