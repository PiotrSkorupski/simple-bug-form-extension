import*as tslib_1 from"tslib";import"../../CommonImports";import"../../Core/core.css";import*as React from"react";import{shimRef}from"../../Util";var Measure=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.childRef=React.createRef(),e.lastWidth=-1,e.lastHeight=-1,e.onResize=function(){var t=e.childRef.current;if(t){var i=t.getBoundingClientRect();e.lastWidth==i.width&&e.lastHeight==i.height||(e.props.onMeasure&&e.props.onMeasure(i.width,i.height),e.lastWidth=i.width,e.lastHeight=i.height)}},e}return tslib_1.__extends(e,t),e.prototype.render=function(){var t=React.Children.only(this.props.children);return this.childRef=shimRef(t),React.cloneElement(t,tslib_1.__assign({},t.props,{ref:this.childRef}))},e.prototype.componentDidMount=function(){window.addEventListener("resize",this.onResize),this.onResize()},e.prototype.componentDidUpdate=function(){this.onResize()},e.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.onResize)},e}(React.Component);export{Measure};