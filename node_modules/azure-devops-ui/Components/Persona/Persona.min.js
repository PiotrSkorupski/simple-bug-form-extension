import*as tslib_1 from"tslib";import"../../CommonImports";import"../../Core/core.css";import*as React from"react";import{Coin}from"../../Coin";var Persona=function(e){function t(t){var r=e.call(this,t)||this;return r.targetElement=React.createRef(),r.onClick=function(e){r.props.personaProvider&&r.props.personaProvider.renderIdentityCard&&r.setState({showIdentityCard:!0})},r.hideIdentityCard=function(){r.setState({showIdentityCard:!1})},r.state={imageError:!1,imageLoaded:!1,showIdentityCard:!1},r}return tslib_1.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.className,r=e.personaProvider,i=e.identity,a=e.size,n=!!r&&!!r.renderIdentityCard,o=i.image||i.imageUrl;return React.createElement(React.Fragment,null,React.createElement("div",{ref:this.targetElement},React.createElement(Coin,{className:t,dataIsFocusable:n,isTabStop:n,onClick:n?this.onClick:void 0,displayName:i.displayName||"",imageUrl:this.getServerImageFromSize(o),imgAltText:i.displayName,size:a})),r&&this.state.showIdentityCard&&r&&r.renderIdentityCard&&r.renderIdentityCard(i,r,this.hideIdentityCard,this.targetElement.current))},t.prototype.getServerImageFromSize=function(e){if(e){if(this.props.size){if(this.props.size<=3)return e+"?size=0";if(this.props.size>6)return e+"?size=2"}return e}},t}(React.Component);export{Persona};