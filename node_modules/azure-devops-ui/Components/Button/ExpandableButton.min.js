import*as tslib_1 from"tslib";import"../../CommonImports";import"../../Core/core.css";import"./Button.css";import"./ExpandableButton.css";import*as React from"react";import{Button}from"./Button";import{Expandable}from"../../Expandable";import{Icon}from"../../Icon";import{css}from"../../Util";var buttonId=1,ExpandableButton=function(o){function e(e){var n=o.call(this,e)||this;return n.buttonElement=React.createRef(),n.containerElement=React.createRef(),n.expandable=React.createRef(),n.collapse=function(){n.expandable.current&&n.expandable.current.collapse()},n.expand=function(){n.expandable.current&&n.expandable.current.expand()},n.renderCallout=function(){return n.props.renderCallout(n,n.dropdownId,n.props.anchorElement?n.props.anchorElement:n.props.anchorPoint?void 0:n.containerElement.current?n.containerElement.current:void 0,n.props.anchorOffset||{horizontal:0,vertical:0},n.props.anchorOrigin||{horizontal:"end",vertical:"end"},n.props.anchorPoint,n.props.dropdownOrigin||{horizontal:"end",vertical:"start"})},n.dropdownId=e.dropdownId||"dropdown-"+buttonId++,n}return tslib_1.__extends(e,o),e.prototype.render=function(){var o=this;return React.createElement(Expandable,{disabled:this.props.disabled,expandKey:this.props.expandKey,onCollapse:this.props.onCollapse,onExpand:this.props.onExpand,renderCallout:this.renderCallout,ref:this.expandable},function(e){return React.createElement("div",{className:"bolt-expandable-button",onMouseDown:e.onMouseDown,onKeyDown:e.onKeyDown,ref:o.containerElement},React.createElement(Button,tslib_1.__assign({},o.props,{ariaControls:e.expanded?o.dropdownId:void 0,ariaExpanded:e.expanded,ariaHasPopup:!0,className:css(o.props.className,!o.props.text&&!o.props.children&&o.props.iconProps&&"icon-only",e.expanded&&"active"),onClick:e.onClick,ref:o.buttonElement,tooltipProps:o.props.tooltipProps?tslib_1.__assign({},o.props.tooltipProps,{disabled:e.expanded}):void 0}),o.props.children,o.props.hideDropdownIcon?void 0:Icon({key:"dropdown-icon",className:"icon-right",iconName:"ChevronDown"})))})},e.prototype.focus=function(){this.buttonElement.current&&this.buttonElement.current.focus()},e.defaultProps={expandKey:[40,13]},e}(React.Component);export{ExpandableButton};