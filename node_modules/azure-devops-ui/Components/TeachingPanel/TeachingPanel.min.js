import*as tslib_1 from"tslib";import"../../CommonImports";import"../../Core/core.css";import"./TeachingPanel.css";import*as React from"react";import{Callout}from"../../Callout";import{FocusZone}from"../../FocusZone";import{Button}from"../../Button";import{css}from"../../Util";import*as Resources from"../../Resources.TeachingPanel";var TeachingPanel=function(e){function t(t){var n=e.call(this,t)||this;return n.nextButton=React.createRef(),n._onPanelClose=function(){n.setState({shouldShow:!1}),n.props.onDismiss&&n.props.onDismiss(n.state.slideIndex)},n._onNextPressed=function(){n.state.slideIndex+1===n.props.slides.length?n._onPanelClose():n.setState({slideIndex:n.state.slideIndex+1})},n._onBackPressed=function(){n.state.slideIndex>0&&(1===n.state.slideIndex&&n.nextButton.current&&n.nextButton.current.focus(),n.setState({slideIndex:n.state.slideIndex-1}))},n._renderProgress=function(e){return React.createElement("div",{className:"bolt-teaching-panel-progress flex-row flex-grow"},React.createElement("div",{className:"flex-grow"}),React.createElement("div",{className:"bolt-teaching-panel-progress-group flex-row flex-shrink"},n.props.slides.map(function(t,n){return React.createElement("div",{key:"progress-"+n,className:css("bolt-teaching-panel-progress-circle",e===n&&"current")})})),React.createElement("div",{className:"flex-grow"}))},n._renderPanel=function(){var e=n.props.slides[n.state.slideIndex],t=0===n.state.slideIndex,a=n.state.slideIndex+1===n.props.slides.length;return e?React.createElement(Callout,{className:"bolt-teaching-panel-layer",contentClassName:"bolt-teaching-panel",contentJustification:1,contentLocation:1,contentOrientation:0,contentShadow:!0,escDismiss:!0,lightDismiss:!0,modal:!0,onDismiss:n._onPanelClose},React.createElement(FocusZone,{circularNavigation:!0,defaultActiveElement:".bolt-teaching-panel-next",focusOnMount:!0,handleTabKey:!0},React.createElement("div",{className:"bolt-teaching-panel-wrapper-div flex-grow flex-column scroll-hidden"},React.createElement("div",{className:"bolt-teaching-panel-image-div flex-row"},React.createElement("img",{className:"bolt-teaching-panel-image flex-row",src:e.slideImage,alt:e.imageAltText}),React.createElement(Button,{subtle:!0,className:"bolt-teaching-pane-close-button",ariaLabel:Resources.Close,iconProps:{iconName:"Cancel"},onClick:n._onPanelClose})),React.createElement("div",{className:"bolt-teaching-panel-text-div flex-column"},React.createElement("div",{className:"bolt-teaching-panel-header flex-shrink title-m"},e.title),React.createElement("div",{className:"bolt-teaching-panel-text flex-grow body-l",dangerouslySetInnerHTML:{__html:e.description}}),React.createElement("div",{className:"flex-row flex-shrink body-m"},React.createElement("div",{className:"bolt-teach-panel-button-container flex-grow"},React.createElement(Button,{text:Resources.Back,onClick:n._onBackPressed,className:css("bolt-teaching-panel-back flex-shrink",t&&"first-slide"),disabled:n.state.slideIndex<=0})),n._renderProgress(n.state.slideIndex),React.createElement("div",{className:"bolt-teach-panel-button-container flex-grow"},React.createElement(Button,{ref:n.nextButton,primary:!0,text:a?Resources.Done:Resources.Next,onClick:n._onNextPressed,className:"bolt-teaching-panel-next flex-shrink"}))))))):null},n.state={slideIndex:0,shouldShow:!0},n}return tslib_1.__extends(t,e),t.prototype.render=function(){return this.state.shouldShow?this._renderPanel():null},t}(React.Component);export{TeachingPanel};