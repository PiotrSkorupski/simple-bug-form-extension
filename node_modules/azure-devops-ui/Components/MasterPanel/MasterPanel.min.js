import*as tslib_1 from"tslib";import"../../CommonImports";import"../../Core/core.css";import*as React from"react";import{MasterDetailsContext}from"../../MasterDetailsContext";import{Observer}from"../../Observer";import{Surface}from"../../Surface";import{SingleLayerMasterPanel,SingleLayerMasterPanelHeader}from"../SingleLayerMasterPanel/SingleLayerMasterPanel";export var MasterPanel=function(e){var r=e.className,t=e.showOnSmallScreens,a=React.useRef(null),n=React.useContext(MasterDetailsContext);return React.createElement(Surface,{background:1},React.createElement(Observer,{masterDetailsLayer:{observableValue:n.getCurrentLayer(),filter:function(){return a.current&&a.current.scrollTo(0,0),!0}}},function(e){var n=e.masterDetailsLayer.masterPanelContent,o=e.masterDetailsLayer.parentItem,s=e.masterDetailsLayer.selectedMasterItem,l=n.renderHeader?function(){return n.renderHeader(o)}:void 0,c=n.renderSearch?function(){return n.renderSearch(o)}:void 0,i=n.renderContent?function(){return n.renderContent(o,s)}:void 0;return React.createElement(SingleLayerMasterPanel,{key:"master-panel-"+e.masterDetailsLayer.key,className:r,contentRef:a,renderContent:i,renderHeader:l,renderSearch:c,showOnSmallScreens:t})}))};export var MasterPanelHeader=function(e){var r=React.useContext(MasterDetailsContext),t=r.getCurrentLayer().value.masterPanelContent;return React.createElement(SingleLayerMasterPanelHeader,tslib_1.__assign({},e,{onBackButtonClick:!1!==t.hideBackButton?function(){!1!==(t.onBackButtonClick&&t.onBackButtonClick())&&r.pop()}:void 0}))};