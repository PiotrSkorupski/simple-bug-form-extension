import*as tslib_1 from"tslib";import"../../CommonImports";import"../../Core/core.css";import"./Coin.css";import*as React from"react";import{Tooltip}from"../../TooltipEx";import{css}from"../../Util";import{getColorString}from"../../Utilities/Color";import{getInitialsColorFromName,getInitialsFromName}from"./Coin.Initials";var Coin=function(e){function t(t){var a=e.call(this,t)||this;return a.onImageError=function(e){a.setState({imageError:!0})},a.onLoad=function(e){a.setState({imageLoaded:!0})},a.handleKeyDown=function(e){13!==e.keyCode&&32!==e.keyCode||a.props.onClick&&a.props.onClick()},a.state={imageError:!1,imageLoaded:!1,showIdentityCard:!1},a}return tslib_1.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.className,a=e.displayName,r=e.dataIsFocusable,o=e.onClick,s=e.isTabStop,i=e.imgAltText,n=void 0===i?"":i,l=e.imageUrl,m=this.getSizeCss(),c={};r&&(c["data-is-focusable"]=!0),s&&(c.tabIndex=0),o&&(c.onKeyDown=this.handleKeyDown,c.onClick=o),c["aria-label"]=a;var u=getInitialsColorFromName(a),p=React.createElement("div",{className:css("bolt-coin-content",m),style:u&&{background:getColorString(u)}},React.createElement("span",null,getInitialsFromName(a))),d=void 0===l||this.state.imageError?p:React.createElement(React.Fragment,null,React.createElement("img",{className:css("bolt-coin-content using-image",m,!this.state.imageLoaded&&"pending-load-image"),src:l,alt:n,onError:this.onImageError,onLoad:this.onLoad}),!this.state.imageLoaded&&p);return React.createElement(React.Fragment,null,React.createElement(Tooltip,{text:a,showOnFocus:!0},React.createElement("div",tslib_1.__assign({className:css("bolt-coin flex-noshrink",t,m,o&&"cursor-pointer")},c),d)))},t.prototype.getSizeCss=function(){switch(this.props.size){case 0:return"extra-extra-small";case 1:return"extra-small";case 2:return"extra-small-plus";case 3:return"small";case 4:return"small-plus";case 5:return"medium";case 6:return"medium-plus";case 7:return"large";case 8:return"extra-large";case 9:return"extra-extra-large";default:return"medium"}},t}(React.Component);export{Coin};