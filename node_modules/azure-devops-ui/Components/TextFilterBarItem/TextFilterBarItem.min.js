import*as tslib_1 from"tslib";import"../../CommonImports";import"../../Core/core.css";import*as React from"react";import{TextField}from"../../TextField";import{css}from"../../Util";import{FilterBarItem}from"../../FilterBarItem";var DEFAULT_MAX_TEXT_LENGTH=200,DEFAULT_THROTTLE_WAIT=200,TextFilterBarItem=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.textField=React.createRef(),e.onTextChanged=function(t,r){e.setFilterValue({value:r})},e.onKeyDown=function(t){if(e.props.filter){switch(t.which){case 13:e.props.filter.setFilterItemState(e.props.filterItemKey,{value:e.state.value}),e.props.filter.applyChanges();break;case 27:e.setFilterValue({value:""}),e.setState({value:""}),e.props.filter.applyChanges();break;default:return}t.preventDefault(),t.stopPropagation()}},e}return tslib_1.__extends(e,t),e.prototype.focus=function(){if(this.textField.current)return this.textField.current.focus()},e.prototype.render=function(){var t=this.state.value,e=this.props,r=e.className,i=e.placeholder,a=e.maxTextLength,o=e.inputClassName,l=e.style,s=e.width;return React.createElement(TextField,tslib_1.__assign({ariaLabel:i,className:css(r,"bolt-text-filterbaritem flex-grow"),containerClassName:"flex-grow",inputClassName:css(o,"bolt-text-filterbaritem-input"),focusTreatment:2,maxLength:a||DEFAULT_MAX_TEXT_LENGTH,onChange:this.onTextChanged,onKeyDown:this.onKeyDown,placeholder:i,ref:this.textField,style:l,value:t||"",width:s},this.getExtraTextFieldProps()))},e.prototype.getExtraTextFieldProps=function(){return null},e.prototype.getThrottleWait=function(){var t=this.props.throttleWait;return void 0===t?DEFAULT_THROTTLE_WAIT:t},e.defaultProps={isTextItem:!0},e}(FilterBarItem);export{TextFilterBarItem};