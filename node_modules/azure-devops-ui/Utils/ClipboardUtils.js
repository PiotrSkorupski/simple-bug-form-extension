import * as React from "react";
import * as ReactDOM from "react-dom";
/**
 * Copies the specified data to the clipboard in the TEXT format.
 *
 * @param data The data to copy.
 * @param onCopy Callback after a copy is completed
 */
export function copyToClipboard(data, onCopy) {
    if (data instanceof HTMLElement) {
        copy(data, false, onCopy);
    }
    else {
        var copyRoot = document.createElement("div");
        document.body.appendChild(copyRoot);
        var copyDiv = React.createElement("div", { ref: function (element) { return copy(element, true, onCopy); } }, data);
        ReactDOM.render(copyDiv, copyRoot);
    }
}
function copy(element, temp, onCopy) {
    var range = document.createRange();
    var sel = window.getSelection();
    sel.removeAllRanges();
    range.selectNodeContents(element);
    sel.addRange(range);
    document.execCommand("copy");
    temp ? document.body.removeChild(element.parentNode) : sel.removeAllRanges();
    onCopy && onCopy();
}
